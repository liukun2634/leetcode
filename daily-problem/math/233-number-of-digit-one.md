### 233. 数字 1 的个数

#### 题目

https://leetcode-cn.com/problems/number-of-digit-one/

#### 思路1：分类枚举

对于N = abcde， abcde分别是各个位置上的数字。

如果只看百位上1出现的次数，它会受三个因素影响：百位上的数字，百位以下，百位以上：

- 如果百位为0，那么由更高位置决定百位上1出现的次数：比如 12 0 13， 百位出现情况可能是 100 - 199， 1100 - 1199， 2100 - 2199 ... 11 100 - 11 199, 一共有1200 个。所以 由更高位(12) 决定，并且**等于高位 (12) * 当前位数 (100)。**

- 如果百位为1，那么则由高位和低位同时决定：比如 12 1 13， 受高位影响 百位出现情况可能是 100 - 199， 1100 - 1199， 2100 - 2199 ... 11 100 - 11 199, 一共有1200 个。所以 由更高位(12) 决定，并且**等于高位 (12) * 当前位数 (100)。** 同时也受低位影响， 百位出现情况是 12 100 - 12 113，一共 114 个， **等于低位(113) +1**

- 如果百位大于1，那么仅由更高位置决定百位上1出现的次数：比如 12 2 13， 百位出现情况可能是 100 - 199， 1100 - 1199， 2100 - 2199 ... 11 100 - 11 199, 一共有1300 个。所以 由更高位(12) 决定，并且**等于高位 (12 + 1) * 当前位数 (100)**

```cpp
class Solution {
public:
    int countDigitOne(int n) {
        int count = 0;
        for(long factor = 1; factor <= n; factor = factor * 10){
            //提取高位，当前位，低位
            int low =  n - (n / factor) * factor;
            int high =  n / (factor * 10); 
            int cur = (n / factor) % 10;

            //根据当前位 判断对于当前位置，需要增加1的个数
            if(cur == 0) {
                count += high * factor;
            } else if (cur == 1) {
                count += high * factor + low + 1;
            } else {
                count += (high + 1) * factor; 
            }
        }
        return count;
    }
};
```

**复杂度分析**

时间复杂度：O(m) m是n的位数
空间复杂度：O(1)